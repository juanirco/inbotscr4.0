export class Navbar{constructor(){this.navbar=null,this.mobileToggle=null,this.mobileOverlay=null,this.isOpen=!1,this.init()}init(){this.setupElements(),this.createMobileOverlay(),this.setupEventListeners(),this.setupScrollEffect()}setupElements(){this.navbar=document.querySelector(".navbar"),this.mobileToggle=document.querySelector(".mobile-menu-toggle"),this.navbar&&this.mobileToggle||console.warn("Navbar elements not found")}createMobileOverlay(){if(document.querySelector(".mobile-nav-overlay"))return;const e=document.createElement("div");e.className="mobile-nav-overlay";const i=document.querySelector(".nav-links");if(!i)return;const t=i.cloneNode(!0);t.className="mobile-nav-links",e.appendChild(t),document.body.appendChild(e),this.mobileOverlay=e}setupEventListeners(){if(this.mobileToggle&&this.mobileToggle.addEventListener("click",e=>{e.preventDefault(),this.toggleMobileMenu()}),this.mobileOverlay){this.mobileOverlay.addEventListener("click",e=>{e.target===this.mobileOverlay&&this.closeMobileMenu()});this.mobileOverlay.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{this.closeMobileMenu()})})}document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isOpen&&this.closeMobileMenu()}),window.addEventListener("resize",()=>{window.innerWidth>768&&this.isOpen&&this.closeMobileMenu()})}setupScrollEffect(){let e=window.scrollY;const i=()=>{const i=window.scrollY;this.navbar&&(i>100?this.navbar.classList.add("scrolled"):this.navbar.classList.remove("scrolled")),e=i};let t=!1;window.addEventListener("scroll",()=>{t||(requestAnimationFrame(()=>{i(),t=!1}),t=!0)})}toggleMobileMenu(){this.isOpen?this.closeMobileMenu():this.openMobileMenu()}openMobileMenu(){if(!this.mobileToggle||!this.mobileOverlay)return;this.isOpen=!0,this.mobileToggle.classList.add("active"),this.mobileOverlay.classList.add("active"),document.body.style.overflow="hidden";this.mobileOverlay.querySelectorAll(".mobile-nav-links li").forEach((e,i)=>{e.style.transitionDelay=.1*i+"s"})}closeMobileMenu(){if(!this.mobileToggle||!this.mobileOverlay)return;this.isOpen=!1,this.mobileToggle.classList.remove("active"),this.mobileOverlay.classList.remove("active"),document.body.style.overflow="";this.mobileOverlay.querySelectorAll(".mobile-nav-links li").forEach(e=>{e.style.transitionDelay=""})}destroy(){this.mobileOverlay&&this.mobileOverlay.remove(),document.body.style.overflow="",window.removeEventListener("scroll",this.setupScrollEffect),window.removeEventListener("resize",this.handleResize)}}document.addEventListener("DOMContentLoaded",()=>{window.navbar=new Navbar});export default Navbar;